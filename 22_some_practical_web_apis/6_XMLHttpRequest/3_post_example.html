<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>XHR POST Example</title>
  </head>
  <body>
    <h1>XMLHttpRequest - POST Request</h1>

    <script>
      /**
       * 📚 Explanation:
       * XMLHttpRequest can be used to send data to a server using POST.
       * The data is usually formatted as JSON or form-encoded.
       *
       * In this example, we send a simple JSON object to a test API.
       * This won't actually create a real post on the server, since it's a placeholder.
       */

      const xhr = new XMLHttpRequest();

      // 🌐 Target endpoint for test POST (won’t persist data)
      xhr.open("POST", "https://jsonplaceholder.typicode.com/posts");

      // 🧾 Tell the server we’re sending JSON data
      xhr.setRequestHeader("Content-Type", "application/json");

      xhr.onload = function () {
        if (xhr.status === 201) {
          console.log("✅ Created successfully!");
          console.log("🔸 Response:", JSON.parse(xhr.responseText));
        } else {
          console.log("❌ POST failed with status:", xhr.status);
        }
      };

      // 📦 Sample data to send
      const postData = {
        title: "Hello",
        body: "This is a test post",
        userId: 1,
      };

      // 🚀 Send JSON data as a string
      xhr.send(JSON.stringify(postData));
    </script>
  </body>
</html>
