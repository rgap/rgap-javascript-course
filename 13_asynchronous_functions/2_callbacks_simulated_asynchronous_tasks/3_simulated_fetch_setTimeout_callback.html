<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simulated Fetch Example</title>
    <script>
      // Example 2: Fetching response with a callback

      // This version improves flexibility by using a callback function,
      // allowing the caller to decide what to do with the fetched data.

      function fetchResponse(callback) {
        setTimeout(() => {
          const response = {
            status: 200,
            statusText: "OK",
            url: "https://example.com/api/data",
            headers: {
              "content-type": "application/json",
            },
            body: JSON.stringify({ userId: 1, name: "John Doe" }),
          };

          // Logs after 3 seconds
          callback(response.body); // Calls the provided callback function with the fetched data
        }, 3000);
      }

      function displayData(data) {
        // This function handles the fetched data, providing separation of concerns
        console.log("Data received:", JSON.parse(data)); // Parses and logs the simulated JSON data
      }

      // Explanation:
      // - Unlike Example 1, this function accepts a callback.
      // - Instead of handling the response internally, it extracts the data and passes it to the callback function.
      // - This makes it more flexible, as different callbacks can be used to process the data in different ways.

      fetchResponse(displayData);
    </script>
  </head>
  <body></body>
</html>
