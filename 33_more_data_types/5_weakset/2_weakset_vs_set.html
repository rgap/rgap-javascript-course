<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Demo</title>
    <script>
      /**
       * âš–ï¸ WeakSet vs Set
       *
       * - `Set` stores any type of value (primitives or objects)
       * - `WeakSet` only stores objects
       * - `WeakSet` is not iterable and has no .size or .forEach
       * - `WeakSet` supports weak referencing (objects can be GCâ€™d)
       */

      const set = new Set();
      const weakSet = new WeakSet();

      const obj = { id: 1 };

      // âœ… Both work with objects
      set.add(obj);
      weakSet.add(obj);

      // âŒ WeakSet does NOT work with primitives
      try {
        weakSet.add("hello"); // Throws TypeError
      } catch (err) {
        console.error("ğŸš« Cannot add primitive to WeakSet:", err.message);
      }

      // âœ… Set supports primitives
      set.add("hello");
      console.log("Set has 'hello':", set.has("hello")); // â†’ true

      // âŒ WeakSet can't be looped over
      // for (let item of weakSet) {} // â†’ TypeError
    </script>
  </head>
  <body></body>
</html>
